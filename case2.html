<html>
<head>
    <link href="css/case2.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet" media="screen and (min-width: 40.5em)">
<script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="js/jquery-1.10.2.min.map"></script>
 
    <script src="js/bootstrap.min.js"></script>

</head>
<body>
<div id="component">

<style type="css">

form{
    
    margin-left:90px;
    
}
h1{
    position:relative;
    top:50px;
    left:100px;
    font-size:14px;
    color:#e8e8e8;
}
div {
    width :500px;
    font-family:Arial;
    font-size:12px;
}
input {
    width:300px;
}
div {
    background-color:#232323;
    width:700px;
    height:300px;
}
input[type=button]  {
    background-color:#db4a39;
    color:#e8e8e8;
    width:300px;
}
table{
    position:relative;
    top:50px;
    left:100px;
    
    
}

a{
    width:180px;
}
</style>
    <script type="text/javascript">
    //<![CDATA[
    var httpRequest = new XMLHttpRequest(); 
    
    
    function createCORSRequest(method, url) {
  var xhr = new XMLHttpRequest();
  if ("withCredentials" in xhr) {
    // XHR for Chrome/Firefox/Opera/Safari.
    xhr.open(method, url, true);
  } else if (typeof XDomainRequest != "undefined") {
    // XDomainRequest for IE.
    xhr = new XDomainRequest();
    xhr.open(method, url);
  } else {
    // CORS not supported.
    xhr = null;
  }
  return xhr;
}
    
    
    function validateFields(element){
        
        
        console.log($(element).closest('.table').find('.input').val());
        
    }
    
        // Helper method to parse the title tag from the response.
function getTitle(text) {
  return text.match('<title>(.*)?</title>')[1];
}

// Make the actual CORS request.
function makeCorsRequest() {
  // All HTML5 Rocks properties support CORS.
            var url= "http://api.yoursite.com/login?username="+$('#username').val()+'&password='+$('#password').val();
 
  var xhr = createCORSRequest('GET', url);
  if (!xhr) {
    alert('CORS not supported');
    return;
  }

  // Response handlers.
  xhr.onload = function() {
    var text = xhr.responseText;
    var title = getTitle(text);
    alert('Response from CORS request to ' + url + ': ' + title);
  };

  xhr.onerror = function() {
    alert('Woops, there was an error making the request.');
  };

  xhr.send();
}
        
        function login(element){
            
            var url= "http://api.yoursite.com/login?username="+$('#username').val()+'&password='+$('#password').val();
        
        
        
        
        //makeCorsRequest();
        
        
        
    var httpRequest = new XMLHttpRequest();     
     httpRequest.open('GET','http://example.org',true);
     httpRequest.onreadystatechange=function(){
         
         console.log('httpRequest.readyState : ' +httpRequest.readyState);
         console.log('httpRequest.status : ' +httpRequest.status);
           if (httpRequest.readyState==4 && httpRequest.status==200)
    {
    console('response : ' +httpRequest.responseText);
    }
         
         
         
         };
     httpRequest.send(null);
     
        
var requestConfig = {
    timeout:2000,
url : "http://api.yoursite.com/login?username="+$('#username').val()+'&password='+$('#password').val(),
dataType :'jsonp',
xhrFields:{
withCredentials:true
},
jsonpCallback:callbackResponse
}
$.ajax(requestConfig) ;   
            
            }
            
         function callbackResponse(data){
        console.log('data ++++++ '+ data);
        console.log('data ::: ' + data.responseStatus);
         if (data.responseStatus == "200"){
         console.log('got it')
         }else{
         console.error(':X');
         
         }
         console.log(data.answer);
         }   
            
     
    //]]>
    
    
    </script>
    <form>
        <h1>User Login</h1>
        <table>
            <tr>
                <td>
                    <input type="text" id="username" placeholder="Apple Id" />
                </td>
            </tr>
            <tr>
                <td>
                    <input type="text" id="password" placeholder="Password" />
                </td>
            </tr>
            <tr>
                <td>
            <a class="btn btn-lg btn-danger" onclick="login(this);">Login to your Account</a>
                   
                </td>
            </tr>
        </table>
    </form>
</div>
</body>
</html>